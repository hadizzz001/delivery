"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[191],{3934:function(e,t,l){var a=l(3955),s=l(2310),n=l(1268),r=l(4214),i=l(6008),o=l(8515);t.Z=()=>{(0,i.useRouter)();let{push:e}=(0,i.useRouter)(),[t,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)({}),[u,p]=(0,s.useState)(!1),[h,m]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),[j,f]=(0,s.useState)([""]);(0,s.useEffect)(()=>{d(e=>({...e,category:""+h,img:j}))},[h,j]);let b=e=>{if("price"==e.target.name){let t=e.target.value.replace(/[^0-9.]/g,""),l=t.includes(".")?t.split(".").slice(0,2).join("."):t;g(l)}let t=e.target.name,l=e.target.value;d(e=>({...e,[t]:l,img:localStorage.getItem("sharedValue")}))};return(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>l(!0),className:"text-white p-3 cursor-pointer",style:{background:"#c01907"},children:"Add New Item"}),(0,a.jsx)("button",{onClick:()=>e("/reservation"),className:"text-white p-3 cursor-pointer",style:{marginLeft:"1em",background:"#c01907"},children:"View Orders"}),(0,a.jsx)(n.Z,{modalOpen:t,setModalOpen:l,children:(0,a.jsxs)("form",{className:"w-full mt-3",onSubmit:e=>{e.preventDefault(),"0"==e.target.category.value?alert("Please select a category"):j.includes("")?alert("Please select item image"):(p(!0),r.Z.post("/api/posts",c).then(e=>{console.log(e)}).catch(e=>{console.log(e.response.data)}).finally(()=>{d({}),l(!1),p(!1),window.location.replace("/dashboard")}))},children:[(0,a.jsx)("input",{type:"text",placeholder:"Title",name:"title",className:"w-full p-2",value:c.title||"",onChange:b,required:!0}),(0,a.jsx)("textarea",{placeholder:"Description",name:"description",className:"w-full p-2 my-3",value:c.description||"",onChange:b,required:!0}),(0,a.jsx)("input",{type:"text",placeholder:"Price",name:"price",className:"w-full p-2 my-3",value:x,onChange:b,required:!0}),(0,a.jsxs)("select",{name:"category",value:h,onChange:e=>{let t=e.target.value;m(t)},style:{width:"100%",height:"40px"},children:[(0,a.jsx)("option",{value:"0",selected:!0,children:"--Choose Category--"}),(0,a.jsx)("option",{value:"Food",children:"Food"}),(0,a.jsx)("option",{value:"Drink",children:"Drink"}),(0,a.jsx)("option",{value:"Donishka Mart",children:"Donishka Mart"})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{HandleImagesChange:e=>{e&&f(e)},className:"mt-10 border border-neutral-200 p-16"}),(0,a.jsx)("p",{style:{color:"red"},children:"Note: images should be no more 1MB and size of 1200 * 720 px"}),(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n.uploadcare--widget__button_type_open { \n    background-color: #c01907 !important;\n}\n"}}),(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"   \n\n.uploadcare--button_size_big { \n    background-color: #c01907 !important;\n}\n"}}),(0,a.jsx)("button",{type:"submit",className:"px-5 py-2 mt-3",style:{background:"#c01907"},disabled:u,children:"Submit"})]})})]})}},8515:function(e,t,l){var a=l(3955),s=l(2312),n=l(5852),r=l(2310);t.Z=e=>{let{defaultValue:t,HandleImagesChange:l}=e,[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)([]);return(0,a.jsx)(s.Z,{sx:{pt:"1.5em"},children:i&&(0,a.jsx)(n.W,{clearable:!0,multiple:!0,imagesOnly:!0,onChange:()=>{l(c)},onFileSelect:async e=>{let t=e&&e.files();if(!t)return;let l=[];for(let e=0;e<t.length;e++)t[e].done(e=>{(null==e?void 0:e.cdnUrl)&&l.push("".concat(e.cdnUrl))});d(l)},publicKey:"a5408386975df04a846a"})})}},1268:function(e,t,l){var a=l(3955);t.Z=e=>{let{children:t,modalOpen:l,setModalOpen:s}=e;return(0,a.jsx)(a.Fragment,{children:l&&(0,a.jsx)("div",{className:"bg-black/50 fixed inset-0",children:(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsxs)("div",{className:"flex flex-col items-end bg-slate-300  p-5",children:[(0,a.jsx)("button",{onClick:()=>s(!1),className:"text-2xl mb-3",children:"\xd7"}),t]})})})})}},8257:function(e,t,l){l.d(t,{Z:function(){return d}});var a=l(3955),s=l(1268),n=l(4214),r=l(6008),i=l(8515),o=l(2310),c=e=>{let{post:t}=e;(0,r.useRouter)();let[l,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(t),[p,h]=(0,o.useState)(!1),[m,x]=(0,o.useState)(!1),[g,j]=(0,o.useState)(""),[f,b]=(0,o.useState)(""),[y,v]=(0,o.useState)([""]),[w,N]=(0,o.useState)(!1),k=e=>{if("price"==e.target.name){let t=e.target.value.replace(/[^0-9.]/g,""),l=t.includes(".")?t.split(".").slice(0,2).join("."):t;b(l)}let t=e.target.name,l=e.target.value;u(e=>({...e,[t]:l}))},S=e=>{n.Z.delete("/api/posts/".concat(e)).then(e=>{console.log(e)}).catch(e=>{console.log(e)}).finally(()=>{c(!1),window.location.replace("/dashboard")})};return(0,o.useEffect)(()=>{g&&u(e=>({...e,category:""+g}))},[g]),(0,o.useEffect)(()=>{y.includes("")||u(e=>({...e,img:y}))},[y]),(0,a.jsxs)("div",{className:"bg-slate-200 p-3 min-h-full min-w-full",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold",children:["Title : ",t.title]}),(0,a.jsxs)("b",{children:["Category : ",t.category]}),(0,a.jsx)("br",{}),(0,a.jsxs)("b",{children:["Price($) : ",t.price]}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{style:{width:"150px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:t.description}),(0,a.jsx)("br",{}),(0,a.jsx)("img",{src:t.img[0],width:50}),(0,a.jsxs)("div",{className:"pt-5",children:[(0,a.jsx)("button",{className:"text-blue-700 mr-3",onClick:()=>c(!0),children:"Edit"}),(0,a.jsx)(s.Z,{modalOpen:l,setModalOpen:c,children:(0,a.jsxs)("form",{className:"w-full mt-3",onSubmit:e=>{e.preventDefault(),h(!0),n.Z.patch("/api/posts/".concat(t.id),d).then(e=>{console.log(e)}).catch(e=>{console.log(e)}).finally(()=>{c(!1),h(!1),window.location.replace("/dashboard")})},children:[(0,a.jsx)("input",{type:"text",placeholder:"Title",name:"title",className:"w-full p-2",value:d.title||"",onChange:k,required:!0}),(0,a.jsx)("textarea",{placeholder:"Description",name:"description",className:"w-full p-2 my-3",value:d.description||"",onChange:k,required:!0}),(0,a.jsx)("input",{type:"text",placeholder:"Price",name:"price",className:"w-full p-2 my-3",value:d.price||f,onChange:k,required:!0}),(0,a.jsxs)("select",{name:"category",value:g,onChange:e=>{let t=e.target.value;j(t),x(!0)},style:{width:"100%",height:"40px"},children:[(0,a.jsx)("option",{value:"0",selected:!0,children:"--Choose Category--"}),(0,a.jsx)("option",{value:"Food",children:"Food"}),(0,a.jsx)("option",{value:"Drink",children:"Drink"}),(0,a.jsx)("option",{value:"Donishka Mart",children:"Donishka Mart"})]}),(0,a.jsx)("br",{}),(0,a.jsx)(i.Z,{HandleImagesChange:e=>{e&&v(e)},className:"mt-10 border border-neutral-200 p-16"}),(0,a.jsx)("p",{style:{color:"red"},children:"Note: images should be no more 1MB and size of 1200 * 720 px"}),(0,a.jsx)("button",{type:"submit",className:"px-5 py-2 mt-3",style:{background:"#c01907"},disabled:p,children:"Submit"})]})}),(0,a.jsx)("button",{onClick:()=>N(!0),className:"text-red-700 mr-3",children:"Delete"}),(0,a.jsxs)(s.Z,{modalOpen:w,setModalOpen:N,children:[(0,a.jsx)("h1",{className:"text-2xl pb-3",children:"Are you sure, You want to delete this post?"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>S(t.id),className:"text-blue-700 font-bold mr-5",children:"YES"}),(0,a.jsx)("button",{onClick:()=>N(!1),className:"text-red-700 font-bold mr-5",children:"No"})]})]})]})]},t.id)},d=e=>{let{posts:t}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 place-items-start",children:null==t?void 0:t.map(e=>(0,a.jsx)(c,{post:e},e.id))})}},4680:function(e,t,l){async function a(){let e=await fetch("/api/posts",{next:{revalidate:0}}),t=await e.json();return t.posts}async function s(){let e=await fetch("/api/order",{next:{revalidate:0}}),t=await e.json();return t.posts}async function n(){let e=await fetch("/api/postss",{next:{revalidate:0}}),t=await e.json();return t.posts}async function r(e){let t=await fetch("/api/order/".concat(e),{next:{revalidate:0}}),l=await t.json();return l.posts}l.d(t,{W0:function(){return n},rU:function(){return r},sj:function(){return s},z5:function(){return a}})}}]);